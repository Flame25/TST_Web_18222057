import{S as s}from"./sweetalert2.esm.all-df26762b.js";async function c(){const n=document.getElementById("username").value,r=document.getElementById("password").value,o=document.getElementById("error-message");if(o.textContent="",!n||!r){o.textContent="Please fill in all fields.";return}try{const e=await fetch("https://textfilters.codebloop.my.id/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:n,password:r})});if(e.ok){const t=await e.json();console.log(t),t.error?s.fire({title:"Error!",text:`${t.error}`,icon:"error",confirmButtonText:"Cool"}):(s.fire({title:"Login Success",text:"Login Successful",icon:"success"}),localStorage.setItem("token",t.token),window.location.href="index.html")}}catch(e){console.log(e),o.textContent="An error occurred. Please try again later."}}const l=document.getElementById("login-button");l.onclick=function(){c()};
